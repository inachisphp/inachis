{% extends "admin__structure__main.html.twig" %}
{% block content %}

{% block post_list_pre %}{% endblock post_list_pre %}

{% block post_list %}

<div class="col span_8_of_8 widget-posts">
    {%  if posts is not empty %}
    <form>
        <button>…</button>
        <ul>
            <li>with selected, </li>
            <li>Delete</li>
            <li>Make private</li>
        </ul>

        <p>Showing {{ posts.offset + 1 }} to {{  posts.offset + posts.limit }} of {{ posts.total }}</p>

        {%  for post in posts.results %}
        <article id="post-{{ post.id }}" class="{{ post.type }} status-{{ post.status }} visibility-{{ post.visibility }} hentry">
            <input id="post-{{ post.id }}__input" type="checkbox" name="posts[]" value="{{ post.id }}" />
            <a aria-label="Edit {{ post.title }}" href="/inadmin/{%- if post.type == 'page' %}page/{% endif -%}{{ post.urls[0].link }}">
                <h2>
                    <label for="post-{{ post.id }}__input">{{ post.title }}
                    {%-  if post.status == 'draft' %}<span class="badge badge__draft">draft</span>{% endif -%}
                    {%-  if post.visibility == 'private' %}<span class="badge badge__private">private</span>{% endif -%}
                </h2>
                <p>{{ post.content|markdown|striptags|length > 300 ? post.content|markdown|striptags|slice(0, 300) ~ '…' : post.content|markdown|striptags  }}</p>
            </a>
            <p class="date"><span class="material-icons">schedule</span> Last modified: <em>{{ post.modDate|date('jS F Y \\a\\t H:i', post.timezone) }} {{ post.timezone }}</em></p>
        </article>
        {%  endfor %}
    </form>
    {% endif %}
</div>
{% endblock post_list %}


{% block post_list_post %}{% endblock post_list_post %}
{% endblock content %}